(this["webpackJsonpreact-hooks"]=this["webpackJsonpreact-hooks"]||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(1),o=n.n(c),r=n(6),s=n.n(r),i=(n(13),n(8)),u=n(2),a=n(7),j=(n(14),n(0)),l=function(t){return Object(j.jsx)("div",{className:"card",children:t.children})},d=(n(16),o.a.memo((function(t){var e=Object(c.useState)(""),n=Object(u.a)(e,2),o=n[0],r=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),a=i[0],d=i[1];return Object(j.jsx)("section",{className:"product-form",children:Object(j.jsx)(l,{children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.onAddProduct({title:o,amount:a})},children:[Object(j.jsxs)("div",{className:"form-control",children:[Object(j.jsx)("label",{htmlFor:"title",children:"Title"}),Object(j.jsx)("input",{type:"text",id:"title",value:o,onChange:function(t){return r(t.target.value)}})]}),Object(j.jsxs)("div",{className:"form-control",children:[Object(j.jsx)("label",{htmlFor:"amount",children:"Amount"}),Object(j.jsx)("input",{type:"number",id:"amount",value:a,onChange:function(t){return d(t.target.value)}})]}),Object(j.jsx)("div",{className:"product-form__actions",children:Object(j.jsx)("button",{type:"submit",children:"Add"})})]})})})}))),b=(n(17),o.a.memo((function(t){var e=t.onLoadProducts,n=Object(c.useState)(""),o=Object(u.a)(n,2),r=o[0],s=o[1],i=Object(c.useRef)();return Object(c.useEffect)((function(){setTimeout((function(){if(r===i.current.value){var t=0===r.length?"":'?equalTo="'.concat(r,'"');fetch("https://jsonplaceholder.typicode.com/posts"+t).then((function(t){return t.json()})).then((function(t){var n=[];for(var c in t)n.push({id:c,title:t[c].title,amount:t[c].amount});e(n.slice(1,4))}))}}),500)}),[r,e,i]),Object(j.jsx)("section",{className:"search",children:Object(j.jsx)(l,{children:Object(j.jsxs)("div",{className:"search-input",children:[Object(j.jsx)("label",{children:"Search"}),Object(j.jsx)("input",{type:"text",ref:i,value:r,onChange:function(t){return s(t.target.value)}})]})})})}))),h=(n(18),function(t){return Object(j.jsxs)("section",{className:"product-list",children:[Object(j.jsx)("h2",{children:"Products"}),Object(j.jsx)("ul",{children:t.products.map((function(e){return Object(j.jsxs)("li",{onClick:t.onRemoveItem.bind(undefined,e.id),children:[Object(j.jsx)("span",{children:e.title}),Object(j.jsxs)("span",{children:[e.amount,"x"]})]},e.id)}))})]})}),O=function(t,e){switch(e.type){case"SET":return e.products;case"ADD":return[].concat(Object(a.a)(t),[e.products]);default:throw new Error("Error")}},f=function(){var t=Object(c.useReducer)(O,[]),e=Object(u.a)(t,2),n=e[0],o=e[1],r=Object(c.useCallback)((function(t){o({type:"SET",products:t})}),[]);return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{onAddProduct:function(t){fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(e){return e.json().then((function(e){o({type:"ADD",products:Object(i.a)({id:e.name},t)})}))}))}}),Object(j.jsxs)("section",{children:[Object(j.jsx)(b,{onLoadProducts:r}),Object(j.jsx)(h,{products:n,onRemoveItem:function(){}})]})]})},p=o.a.createContext({isAuth:!1,login:function(){}}),m=function(t){var e=Object(c.useState)(!1),n=Object(u.a)(e,2),o=n[0],r=n[1];return Object(j.jsx)(p.Provider,{value:{isAuth:o,login:function(){r(!0)}},children:t.children})},x=(n(19),function(t){var e=Object(c.useContext)(p);return Object(j.jsx)("div",{className:"auth",children:Object(j.jsxs)(l,{children:[Object(j.jsx)("p",{children:"Please login to continue"}),Object(j.jsx)("button",{onClick:function(){e.login()},children:"Login"})]})})}),v=function(t){var e=Object(c.useContext)(p),n=Object(j.jsx)(x,{});return e.isAuth&&(n=Object(j.jsx)(f,{})),n};s.a.render(Object(j.jsx)(m,{children:Object(j.jsx)(v,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.5a9e59bc.chunk.js.map